/*! app.js 2015-10-23 */
"use strict";angular.module("myApp",["ngRoute","myApp.home"]).config(["$routeProvider",function(a){a.otherwise({redirectTo:"/home"})}]),angular.module("myApp.home",["ngRoute"]).config(["$routeProvider",function(a){a.when("/home",{templateUrl:"home/home.html",controller:"homeController"})}]).controller("homeController",["$scope","$log",function(a,b){a.map,a.userpos,a.sitesResults,a.userfind=function(){function b(a,b,c){b.setPosition(c),b.setContent(a?"Error: The Geolocation service failed.":"Error: Your browser doesn't support geolocation.")}a.map=new google.maps.Map(document.getElementById("map"),{center:{lat:37.7833,lng:-122.4167},zoom:10}),navigator.geolocation?navigator.geolocation.getCurrentPosition(function(b){a.userpos={lat:b.coords.latitude,lng:b.coords.longitude};new google.maps.Circle({strokeColor:"#FFFFFF ",strokeOpacity:1,strokeWeight:2,fillColor:"#0000FF ",fillOpacity:.5,map:a.map,center:a.userpos,radius:50});a.map.setCenter(a.userpos),a.map.setZoom(14)},function(){b(!0,infoWindow,a.map.getCenter())}):b(!1,infoWindow,a.map.getCenter()),a.$apply()},a.createMarker=function(b){b.geometry.location,new google.maps.Marker({map:a.map,position:b.geometry.location})},a.filter=function(){function b(b,c){c==google.maps.places.PlacesServiceStatus.OK&&(console.log("callback : ",b),a.sitesResults=b,a.$apply(),b.forEach(function(b){a.createMarker(b)}))}console.log("filter"),console.log("userpos",a.userpos);var c={location:a.userpos,radius:"2000",keyword:["basketball court"]},d=new google.maps.places.PlacesService(a.map);d.nearbySearch(c,b)}}]);